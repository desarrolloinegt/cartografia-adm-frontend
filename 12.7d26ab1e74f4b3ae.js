"use strict";(self.webpackChunkcartografia_app=self.webpackChunkcartografia_app||[]).push([[12],{12:(K,b,l)=>{l.r(b),l.d(b,{NewVehiclePageComponent:()=>p,VehicleEditDialogComponent:()=>h,VehicleModule:()=>f,VehiclePageComponent:()=>g,VehicleRoutingModule:()=>s,VehicleService:()=>u});var a=l(4006),U=l(5226),_=l.n(U),e=l(4650),q=l(6570);class u{constructor(t){this.apiService=t}getVehicle(){return this.apiService.getAll("vehiculos")}createVehicle(t){return this.apiService.store("vehiculo",t)}editVechicle(t){return this.apiService.patch("vehiculo/edit",t)}desactiVehicle(t){return this.apiService.desactive("vehiculo",t)}}u.\u0275fac=function(t){return new(t||u)(e.LFG(q.s))},u.\u0275prov=e.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"});var C=l(6895),m=l(9549),y=l(4144),Z=l(4859);function A(i,t){1&i&&(e.TgZ(0,"mat-error"),e._uU(1,"Placa del vehiculo es "),e.TgZ(2,"strong"),e._uU(3,"requerida"),e.qZA()())}function N(i,t){1&i&&(e.TgZ(0,"mat-error"),e._uU(1,"Modelo del vehiculo es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}function w(i,t){1&i&&(e.TgZ(0,"mat-error"),e._uU(1,"A\xf1o del vehiculo es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}class p{constructor(t,o){this.vehicleService=t,this.formBuilder=o,this.buildForm()}buildForm(){this.vehicleForm=this.formBuilder.group({placa:["",a.kI.required],modelo:["",a.kI.required],year:["",a.kI.required]})}get placa(){return this.vehicleForm.get("placa")}get modelo(){return this.vehicleForm.get("modelo")}get year(){return this.vehicleForm.get("year")}createVehicle(){this.vehicleForm.valid&&this.vehicleService.createVehicle(this.vehicleForm.value).subscribe(t=>{1==t.status&&_().fire("Ok!",t.message,"success")},t=>{console.log(t)})}}p.\u0275fac=function(t){return new(t||p)(e.Y36(u),e.Y36(a.qu))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-new-vehicle-page"]],decls:25,vars:11,consts:[[1,"card"],[1,"card-body"],[3,"formGroup","submit"],[1,"form-group"],["appearance","outline",1,"full-width-input"],["type","text","formControlName","placa","matInput","","placeholder","P216FMV","required","",1,"form-control"],[4,"ngIf"],["type","text","formControlName","modelo","placeholder","BMW X5","matInput","","required","",1,"form-control"],["type","text","formControlName","year","placeholder","2018","matInput","","required","",1,"form-control"],["type","submit","mat-raised-button","","color","primary",3,"disabled"]],template:function(t,o){1&t&&(e._UZ(0,"br"),e.TgZ(1,"div",0)(2,"div",1)(3,"form",2),e.NdJ("submit",function(){return o.createVehicle()}),e.TgZ(4,"div",3)(5,"mat-form-field",4)(6,"mat-label"),e._uU(7,"Ingrese la Placa del Vehiculo"),e.qZA(),e._UZ(8,"input",5),e.YNc(9,A,4,0,"mat-error",6),e.qZA()(),e.TgZ(10,"div",3)(11,"mat-form-field",4)(12,"mat-label"),e._uU(13,"Ingrese el Modelo del Vehiculo"),e.qZA(),e._UZ(14,"input",7),e.YNc(15,N,4,0,"mat-error",6),e.qZA()(),e.TgZ(16,"div",3)(17,"mat-form-field",4)(18,"mat-label"),e._uU(19,"A\xf1o"),e.qZA(),e._UZ(20,"input",8),e.YNc(21,w,4,0,"mat-error",6),e.qZA()(),e.TgZ(22,"div",3)(23,"button",9),e._uU(24," Guardar Vehiculo "),e.qZA()()()()()),2&t&&(e.xp6(3),e.Q6J("formGroup",o.vehicleForm),e.xp6(3),e.Udp("font-size",16,"px"),e.xp6(3),e.Q6J("ngIf",(null==o.placa?null:o.placa.touched)&&(null==o.placa?null:o.placa.hasError("required"))),e.xp6(3),e.Udp("font-size",16,"px"),e.xp6(3),e.Q6J("ngIf",(null==o.modelo?null:o.modelo.touched)&&(null==o.modelo?null:o.modelo.hasError("required"))),e.xp6(3),e.Udp("font-size",16,"px"),e.xp6(3),e.Q6J("ngIf",(null==o.year?null:o.year.touched)&&(null==o.year?null:o.year.hasError("required"))),e.xp6(2),e.Q6J("disabled",!o.vehicleForm.valid))},dependencies:[C.O5,m.KE,m.hX,m.TO,y.Nt,Z.lW,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.sg,a.u],styles:[".full-width-input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{width:100%}.example-section[_ngcontent-%COMP%]{margin:12px}.example-margin[_ngcontent-%COMP%]{margin:0 12px}ul[_ngcontent-%COMP%]{list-style-type:none;margin-top:4px}"]});var T=l(7274);function F(i,t){1&i&&(e.TgZ(0,"mat-error"),e._uU(1,"Placa es "),e.TgZ(2,"strong"),e._uU(3,"requerida"),e.qZA()())}function x(i,t){1&i&&(e.TgZ(0,"mat-error"),e._uU(1,"Modelo es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}function M(i,t){1&i&&(e.TgZ(0,"mat-error"),e._uU(1,"A\xf1o es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}class h{constructor(t,o,r,c){this.vehicleService=t,this.dialogRef=o,this.data=r,this.formBuilder=c,this.buildForm()}submit(){}buildForm(){this.editForm=this.formBuilder.group({id:[this.data.id,[a.kI.required]],placa:[this.data.placa,[a.kI.required]],modelo:[this.data.modelo,[a.kI.required]],year:[this.data.year,[a.kI.required]]})}get placa(){return this.editForm.get("placa")}get modelo(){return this.editForm.get("modelo")}get year(){return this.editForm.get("year")}editSurvey(){this.editForm.valid&&this.vehicleService.editVechicle(this.editForm.value).subscribe(t=>{1==t.status&&(_().fire("Ok!",t.message,"success"),this.dialogRef.close(1))},t=>{console.log(t)})}cancelEdit(){this.dialogRef.close()}}h.\u0275fac=function(t){return new(t||h)(e.Y36(u),e.Y36(T.so),e.Y36(T.WI),e.Y36(a.qu))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-vehicle-edit-dialog"]],decls:30,vars:6,consts:[[1,"card"],["mat-dialog-title",""],[1,"card-body"],[3,"formGroup","submit"],[1,"form-group"],["appearance","outline",1,"full-width-input"],["type","text","formControlName","placa","matInput","","required","",1,"form-control"],[4,"ngIf"],["type","text","formControlName","modelo","matInput","","required","",1,"form-control"],["type","text","formControlName","year","matInput","","required","",1,"form-control"],["type","submit","mat-stroked-button","","color","primary",3,"disabled","click"],["type","submit","mat-stroked-button","","color","warn",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h3",1),e._uU(2),e.qZA(),e._UZ(3,"br")(4,"br"),e.TgZ(5,"div",2)(6,"form",3),e.NdJ("submit",function(){return o.submit()}),e.TgZ(7,"div",4)(8,"mat-form-field",5)(9,"mat-label"),e._uU(10,"Placa del Vehiculo "),e.qZA(),e._UZ(11,"input",6),e.YNc(12,F,4,0,"mat-error",7),e.qZA()(),e.TgZ(13,"div",4)(14,"mat-form-field",5)(15,"mat-label"),e._uU(16,"Modelo del Vehiculo"),e.qZA(),e._UZ(17,"input",8),e.YNc(18,x,4,0,"mat-error",7),e.qZA()(),e.TgZ(19,"div",4)(20,"mat-form-field",5)(21,"mat-label"),e._uU(22,"A\xf1o del Modelo"),e.qZA(),e._UZ(23,"input",9),e.YNc(24,M,4,0,"mat-error",7),e.qZA()(),e.TgZ(25,"div",4)(26,"button",10),e.NdJ("click",function(){return o.editSurvey()}),e._uU(27," Editar Vehiculo "),e.qZA(),e.TgZ(28,"button",11),e.NdJ("click",function(){return o.cancelEdit()}),e._uU(29," Cancelar "),e.qZA()()()()()),2&t&&(e.xp6(2),e.hij("Vehiculo: ",o.data.modelo,""),e.xp6(4),e.Q6J("formGroup",o.editForm),e.xp6(6),e.Q6J("ngIf",(null==o.placa?null:o.placa.touched)&&(null==o.placa?null:o.placa.hasError("required"))),e.xp6(6),e.Q6J("ngIf",(null==o.modelo?null:o.modelo.touched)&&(null==o.modelo?null:o.modelo.hasError("required"))),e.xp6(6),e.Q6J("ngIf",(null==o.year?null:o.year.touched)&&(null==o.year?null:o.year.hasError("required"))),e.xp6(2),e.Q6J("disabled",!o.editForm.valid))},dependencies:[C.O5,m.KE,m.hX,m.TO,y.Nt,Z.lW,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.sg,a.u],styles:[".mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.full-width-input[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{width:50%}.card[_ngcontent-%COMP%]{padding:2rem}"]});var P=l(8739),D=l(6308),n=l(7155),V=l(9299),S=l(7392);function E(i,t){1&i&&(e.TgZ(0,"th",17),e._uU(1,"Placa"),e.qZA())}function J(i,t){if(1&i&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&i){const o=t.$implicit;e.xp6(1),e.hij(" ",o.placa," ")}}function Y(i,t){1&i&&(e.TgZ(0,"th",17),e._uU(1," Modelo "),e.qZA())}function I(i,t){if(1&i&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&i){const o=t.$implicit;e.xp6(1),e.hij(" ",o.modelo," ")}}function O(i,t){1&i&&(e.TgZ(0,"th",17),e._uU(1,"A\xf1o"),e.qZA())}function k(i,t){if(1&i&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&i){const o=t.$implicit;e.xp6(1),e.hij(" ",o.year," ")}}function Q(i,t){1&i&&(e.TgZ(0,"th",17),e._uU(1,"Acciones"),e.qZA())}function B(i,t){if(1&i){const o=e.EpF();e.TgZ(0,"td",18)(1,"button",19),e.NdJ("click",function(){const d=e.CHM(o).$implicit,v=e.oxw();return e.KtG(v.editar(d.id,d.placa,d.modelo,d.year))}),e.TgZ(2,"mat-icon",20),e._uU(3,"edit"),e.qZA()(),e.TgZ(4,"button",21),e.NdJ("click",function(){const d=e.CHM(o).$implicit,v=e.oxw();return e.KtG(v.desactivar(d.id,d.modelo))}),e.TgZ(5,"mat-icon",22),e._uU(6,"delete"),e.qZA()()()}}function R(i,t){1&i&&e._UZ(0,"tr",23)}function z(i,t){1&i&&e._UZ(0,"tr",24)}function G(i,t){if(1&i&&(e.TgZ(0,"tr",25)(1,"td",26),e._uU(2),e.qZA()()),2&i){e.oxw();const o=e.MAs(10);e.xp6(2),e.hij('No hay resultados de "',o.value,'"')}}const j=function(){return[5,10,25,100]};class g{constructor(t,o){this.vehicleService=t,this.dialogService=o,this.displayedColumns=["placa","modelo","year","options"],this.vehicleData={id:0,placa:"",modelo:"",year:""},this.dataSource=new n.by}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}ngOnInit(){this.cargarVehiculo()}cargarVehiculo(){this.vehicleService.getVehicle().subscribe(t=>{this.dataSource=new n.by(t)})}editar(t,o,r,c){this.vehicleData.id=t,this.vehicleData.placa=o,this.vehicleData.modelo=r,this.vehicleData.year=c,this.dialogService.open(h,{height:"30rem",width:"50rem",data:this.vehicleData}).afterClosed().subscribe(v=>{1===v&&this.cargarVehiculo()})}desactivar(t,o){_().fire({title:"\xbfEsta seguro que desea Desactivar el Vehiculo: "+o+"?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Si",denyButtonText:"No"}).then(r=>{r.isConfirmed?this.vehicleService.desactiVehicle(Number(t)).subscribe(c=>{1==c.status&&(this.cargarVehiculo(),_().fire("Ok!",c.message,"success"))},c=>{console.log(c)}):r.isDenied&&_().fire("Cambios no guardados","","info")})}}g.\u0275fac=function(t){return new(t||g)(e.Y36(u),e.Y36(T.uw))},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-vehicle-page"]],viewQuery:function(t,o){if(1&t&&(e.Gf(P.NW,5),e.Gf(D.YE,5)),2&t){let r;e.iGM(r=e.CRH())&&(o.paginator=r.first),e.iGM(r=e.CRH())&&(o.sort=r.first)}},decls:29,vars:5,consts:[[1,"header"],["mat-fab","","color","accent","routerLink","create"],["aria-label","add"],["matInput","","placeholder","Ej. Toyota",3,"keyup"],["input",""],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","placa"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","modelo"],["matColumnDef","year"],["matColumnDef","options"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar pagina de vehiculos",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","matTooltip","Click para Editar","matTooltipPosition","right","color","primary",1,"iconbutton",3,"click"],["aria-label","Edit"],["mat-icon-button","","matTooltip","Click para desactivar","color","warn",1,"iconbutton",3,"click"],["aria-label","Delete"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Veh\xedculos"),e.qZA(),e.TgZ(3,"a",1)(4,"mat-icon",2),e._uU(5,"add"),e.qZA()()(),e.TgZ(6,"mat-form-field")(7,"mat-label"),e._uU(8,"Buscar..."),e.qZA(),e.TgZ(9,"input",3,4),e.NdJ("keyup",function(c){return o.applyFilter(c)}),e.qZA()(),e.TgZ(11,"div",5)(12,"table",6),e.ynx(13,7),e.YNc(14,E,2,0,"th",8),e.YNc(15,J,2,1,"td",9),e.BQk(),e.ynx(16,10),e.YNc(17,Y,2,0,"th",8),e.YNc(18,I,2,1,"td",9),e.BQk(),e.ynx(19,11),e.YNc(20,O,2,0,"th",8),e.YNc(21,k,2,1,"td",9),e.BQk(),e.ynx(22,12),e.YNc(23,Q,2,0,"th",8),e.YNc(24,B,7,0,"td",9),e.BQk(),e.YNc(25,R,1,0,"tr",13),e.YNc(26,z,1,0,"tr",14),e.YNc(27,G,3,1,"tr",15),e.qZA(),e._UZ(28,"mat-paginator",16),e.qZA()),2&t&&(e.xp6(12),e.Q6J("dataSource",o.dataSource),e.xp6(13),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(4,j)))},dependencies:[V.rH,m.KE,m.hX,y.Nt,Z.RK,Z.EX,n.BZ,n.fO,n.as,n.w1,n.Dz,n.nj,n.ge,n.ev,n.XQ,n.Gk,n.Ee,S.Hw,P.NW],styles:["table[_ngcontent-%COMP%]{width:100%;padding:1em}.mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.full-width-input[_ngcontent-%COMP%]{width:100% auto;padding:1em}.example-section[_ngcontent-%COMP%]{margin:12px}.example-margin[_ngcontent-%COMP%]{margin:0 12px}ul[_ngcontent-%COMP%]{list-style-type:none;margin-top:4px}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:1.5rem;padding:0 .4rem;font-family:Roboto,Helvetica Neue,sans-serif}"]});const H=[{path:"",component:g},{path:"create",component:p}];class s{}s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[V.Bz.forChild(H),V.Bz]});var X=l(4320);class f{}f.\u0275fac=function(t){return new(t||f)},f.\u0275mod=e.oAB({type:f}),f.\u0275inj=e.cJS({imports:[C.ez,s,X.M,a.UX]})}}]);