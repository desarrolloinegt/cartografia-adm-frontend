"use strict";(self.webpackChunkcartografia_app=self.webpackChunkcartografia_app||[]).push([[449],{1449:(Ye,I,s)=>{s.r(I),s.d(I,{EditUserDialogComponent:()=>c,NewUserPageComponent:()=>f,PasswordValidation:()=>b,UserModule:()=>_,UserPageComponent:()=>g,UserRoutingModule:()=>d,UserService:()=>u});var A=s(8739),v=s(6308),l=s(7155),y=s(5226),h=s.n(y),n=s(4006),C=s(7274),e=s(4650),D=s(529),E=s(6570);class u{constructor(o){this.apiService=o}newUser(o){return this.apiService.store("registro",o)}getAllUsers(o,r){let a=new D.LE;return o&&r&&(a=a.set("limit",o),a=a.set("offset",r)),this.apiService.getAll("usuarios")}getAllUserListView(){return this.apiService.getAll("usuariosList")}desactiveUser(o){return this.apiService.desactive("usuario",o)}editUser(o){return this.apiService.patch("usuario/edit",o)}}u.\u0275fac=function(o){return new(o||u)(e.LFG(E.s))},u.\u0275prov=e.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"});var P=s(6895),m=s(9549),T=s(4144),U=s(4859),N=s(6709),Z=s(4954);function F(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"DPI es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}function Y(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"DPI es debe contener"),e.TgZ(2,"strong"),e._uU(3,"13 digitos"),e.qZA()())}function k(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Nombres son "),e.TgZ(2,"strong"),e._uU(3,"requeridos"),e.qZA()())}function x(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Apellidos son "),e.TgZ(2,"strong"),e._uU(3,"requeridos"),e.qZA()())}function J(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Email es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}function Q(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Codigo de usuario es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}function S(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Nombre de usuario es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}function M(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Contrase\xf1a debe tener al menos "),e.TgZ(2,"strong"),e._uU(3," 8 caracteres, letras minusculas, letras mayusculas, numeros y caracteres especiales "),e.qZA()())}function O(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Contrase\xf1a debe tener al menos "),e.TgZ(2,"strong"),e._uU(3," 8 caracteres, letras minusculas, letras mayusculas, numeros y caracteres especiales "),e.qZA()())}function z(t,o){1&t&&(e.TgZ(0,"mat-error")(1,"strong"),e._uU(2," Las contrase\xf1as no coinciden "),e.qZA()())}function B(t,o){if(1&t){const r=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(r);const i=e.oxw();return e.KtG(i.editUser())}),e._uU(1," Editar Usuario "),e.qZA()}if(2&t){const r=e.oxw();e.Q6J("disabled",!r.editForm.valid)}}const $=function(){return["editar-usuario"]};class c{constructor(o,r,a,i){this.dialogRef=o,this.data=r,this.userService=a,this.formBuilder=i,this.hide=!0,this.passwordType="password",this.loading=!1,this.checked=!1,this.buildForm()}ngOnInit(){}buildForm(){this.editForm=this.formBuilder.group({id:[this.data.id,[n.kI.required]],DPI:[this.data.DPI,[n.kI.required,n.kI.pattern(/^((\\+91-?)|0)?[0-9]{13}$/)]],nombres:[this.data.nombres,[n.kI.required]],apellidos:[this.data.apellidos,[n.kI.required]],email:[this.data.email,[n.kI.required,n.kI.email]],codigo_usuario:[this.data.codigo_usuario,[n.kI.required]],password:[{value:"",disabled:!0},[n.kI.pattern(/^(?=\D*\d)(?=[^a-z]*[a-z])(?=.*[$@$!%*?&])(?=[^A-Z]*[A-Z]).{8,30}$/)]],passwordConfirm:[{value:"",disabled:!0},[n.kI.pattern(/^(?=\D*\d)(?=[^a-z]*[a-z])(?=.*[$@$!%*?&])(?=[^A-Z]*[A-Z]).{8,30}$/),b.MatchPassword]],username:[this.data.username,[n.kI.required]]})}get Id(){return this.editForm.get("id")}get DPI(){return this.editForm.get("DPI")}get Nombres(){return this.editForm.get("nombres")}get Email(){return this.editForm.get("email")}get CodigoUsuario(){return this.editForm.get("codigo_usuario")}get Password(){return this.editForm.get("password")}get PasswordConfirm(){return this.editForm.get("passwordConfirm")}get Username(){return this.editForm.get("username")}get Apellidos(){return this.editForm.get("apellidos")}submit(){}cancelEdit(){this.dialogRef.close()}passwordStatus(o){this.checked=o,this.checked?(this.Password?.enable(),this.PasswordConfirm?.enable()):(this.Password?.disable(),this.PasswordConfirm?.disable())}editUser(){this.editForm.valid&&(this.Password?.disabled&&(this.Password.setValue(""),this.Password.enable()),this.userService.editUser(this.editForm.value).subscribe(o=>{1==o.status&&(h().fire("Ok!",o.message,"success"),this.dialogRef.close(1))},o=>{this.loading=!1,console.log(o)}),this.Password?.disable())}}c.\u0275fac=function(o){return new(o||c)(e.Y36(C.so),e.Y36(C.WI),e.Y36(u),e.Y36(n.qu))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-edit-user-dialog"]],decls:63,vars:15,consts:[[1,"card"],["mat-dialog-title",""],[1,"card-body"],[3,"formGroup","submit"],[1,"form-group"],["appearance","outline",1,"full-width-input"],["type","number","formControlName","DPI","matInput","","placeholder","2320 55634 0103","required","",1,"form-control"],[4,"ngIf"],["type","text","matInput","","formControlName","nombres","placeholder","Primer Nombre, Segundo Nombre...","required","",1,"form-control"],["type","text","formControlName","apellidos","matInput","","placeholder","Primer Apellido, Segundo Apellido...","required","",1,"form-control"],["type","email","formControlName","email","matInput","","placeholder","ejemplo.correo@gmail.com","required","",1,"form-control"],["type","number","formControlName","codigo_usuario","matInput","","placeholder","0985","required","",1,"form-control"],["type","text","formControlName","username","matInput","","placeholder","usuario2023","required","",1,"form-control"],[1,"example-margin",3,"checked","change"],["type","password","formControlName","password","matInput","","required","",1,"form-control"],["type","password","formControlName","passwordConfirm","matInput","","required","",1,"form-control"],["type","submit","mat-stroked-button","","color","primary",3,"disabled","click",4,"ngxPermissionsOnly"],["type","submit","mat-stroked-button","","color","warn",3,"click"],["type","submit","mat-stroked-button","","color","primary",3,"disabled","click"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0)(1,"h3",1),e._uU(2),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"div",2)(5,"form",3),e.NdJ("submit",function(){return r.submit()}),e.TgZ(6,"div",4)(7,"mat-form-field",5)(8,"mat-label"),e._uU(9,"Ingrese su DPI"),e.qZA(),e._UZ(10,"input",6),e.YNc(11,F,4,0,"mat-error",7),e.YNc(12,Y,4,0,"mat-error",7),e.qZA()(),e.TgZ(13,"div",4)(14,"mat-form-field",5)(15,"mat-label"),e._uU(16,"Ingrese su Nombre"),e.qZA(),e._UZ(17,"input",8),e.YNc(18,k,4,0,"mat-error",7),e.qZA()(),e.TgZ(19,"div",4)(20,"mat-form-field",5)(21,"mat-label"),e._uU(22,"Ingrese su Apellido"),e.qZA(),e._UZ(23,"input",9),e.YNc(24,x,4,0,"mat-error",7),e.qZA()(),e.TgZ(25,"div",4)(26,"mat-form-field",5)(27,"mat-label"),e._uU(28,"Ingrese su Email"),e.qZA(),e._UZ(29,"input",10),e.YNc(30,J,4,0,"mat-error",7),e.qZA()(),e.TgZ(31,"div",4)(32,"mat-form-field",5)(33,"mat-label"),e._uU(34,"Ingrese el Codigo de Usuario"),e.qZA(),e._UZ(35,"input",11),e.YNc(36,Q,4,0,"mat-error",7),e.qZA()(),e.TgZ(37,"div",4)(38,"mat-form-field",5)(39,"mat-label"),e._uU(40,"Ingrese el nombre de Usuario"),e.qZA(),e._UZ(41,"input",12),e.YNc(42,S,4,0,"mat-error",7),e.qZA()(),e.TgZ(43,"div",4)(44,"mat-checkbox",13),e.NdJ("change",function(i){return r.passwordStatus(i.checked)}),e._uU(45," Cambiar Contrase\xf1a "),e.qZA()(),e.TgZ(46,"div",4)(47,"mat-form-field",5)(48,"mat-label"),e._uU(49,"Ingrese contrase\xf1a"),e.qZA(),e._UZ(50,"input",14),e.YNc(51,M,4,0,"mat-error",7),e.qZA()(),e.TgZ(52,"div",4)(53,"mat-form-field",5)(54,"mat-label"),e._uU(55,"Confirme contrase\xf1a"),e.qZA(),e._UZ(56,"input",15),e.YNc(57,O,4,0,"mat-error",7),e.YNc(58,z,3,0,"mat-error",7),e.qZA()(),e.TgZ(59,"div",4),e.YNc(60,B,2,1,"button",16),e.TgZ(61,"button",17),e.NdJ("click",function(){return r.cancelEdit()}),e._uU(62," Cancelar "),e.qZA()()()()()),2&o&&(e.xp6(2),e.hij("Usuario: ",r.data.username,""),e.xp6(3),e.Q6J("formGroup",r.editForm),e.xp6(6),e.Q6J("ngIf",(null==r.DPI?null:r.DPI.touched)&&(null==r.DPI?null:r.DPI.hasError("required"))),e.xp6(1),e.Q6J("ngIf",(null==r.DPI?null:r.DPI.touched)&&(null==r.DPI?null:r.DPI.hasError("pattern"))),e.xp6(6),e.Q6J("ngIf",(null==r.Nombres?null:r.Nombres.touched)&&(null==r.Nombres?null:r.Nombres.hasError("required"))),e.xp6(6),e.Q6J("ngIf",(null==r.Apellidos?null:r.Apellidos.touched)&&(null==r.Apellidos?null:r.Apellidos.hasError("required"))),e.xp6(6),e.Q6J("ngIf",(null==r.Email?null:r.Email.touched)&&(null==r.Email?null:r.Email.hasError("required"))),e.xp6(6),e.Q6J("ngIf",(null==r.CodigoUsuario?null:r.CodigoUsuario.touched)&&(null==r.CodigoUsuario?null:r.CodigoUsuario.hasError("required"))),e.xp6(6),e.Q6J("ngIf",(null==r.Username?null:r.Username.touched)&&(null==r.Username?null:r.Username.hasError("required"))),e.xp6(2),e.Q6J("checked",r.checked),e.xp6(7),e.Q6J("ngIf",(null==r.Password?null:r.Password.touched)&&(null==r.Password?null:r.Password.hasError("pattern"))),e.xp6(6),e.Q6J("ngIf",(null==r.PasswordConfirm?null:r.PasswordConfirm.touched)&&(null==r.PasswordConfirm?null:r.PasswordConfirm.hasError("pattern"))),e.xp6(1),e.Q6J("ngIf",(null==r.PasswordConfirm?null:r.PasswordConfirm.touched)&&(null==r.PasswordConfirm?null:r.PasswordConfirm.hasError("matchPassword"))),e.xp6(2),e.Q6J("ngxPermissionsOnly",e.DdM(14,$)))},dependencies:[P.O5,m.KE,m.hX,m.TO,T.Nt,U.lW,n._Y,n.Fj,n.wV,n.JJ,n.JL,n.Q7,n.sg,n.u,N.oG,Z.gE],styles:[".mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.full-width-input[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{width:50%}.card[_ngcontent-%COMP%]{padding:2rem}"]});var w=s(9132),j=s(7392);function R(t,o){1&t&&(e.TgZ(0,"th",21),e._uU(1," ID "),e.qZA())}function G(t,o){if(1&t&&(e.TgZ(0,"td",22),e._uU(1),e.qZA()),2&t){const r=o.$implicit;e.xp6(1),e.hij(" ",r.id," ")}}function H(t,o){1&t&&(e.TgZ(0,"th",21),e._uU(1," DPI "),e.qZA())}function L(t,o){if(1&t&&(e.TgZ(0,"td",22),e._uU(1),e.qZA()),2&t){const r=o.$implicit;e.xp6(1),e.hij(" ",r.DPI," ")}}function V(t,o){1&t&&(e.TgZ(0,"th",21),e._uU(1," Nombres "),e.qZA())}function X(t,o){if(1&t&&(e.TgZ(0,"td",22),e._uU(1),e.qZA()),2&t){const r=o.$implicit;e.xp6(1),e.hij(" ",r.nombres," ")}}function K(t,o){1&t&&(e.TgZ(0,"th",21),e._uU(1," Apellidos "),e.qZA())}function W(t,o){if(1&t&&(e.TgZ(0,"td",22),e._uU(1),e.qZA()),2&t){const r=o.$implicit;e.xp6(1),e.hij(" ",r.apellidos," ")}}function ee(t,o){1&t&&(e.TgZ(0,"th",21),e._uU(1," Usuario "),e.qZA())}function re(t,o){if(1&t&&(e.TgZ(0,"td",22),e._uU(1),e.qZA()),2&t){const r=o.$implicit;e.xp6(1),e.hij(" ",r.username," ")}}function te(t,o){1&t&&(e.TgZ(0,"th",21),e._uU(1," Email "),e.qZA())}function oe(t,o){if(1&t&&(e.TgZ(0,"td",22),e._uU(1),e.qZA()),2&t){const r=o.$implicit;e.xp6(1),e.hij(" ",r.email," ")}}function ne(t,o){1&t&&(e.TgZ(0,"th",21),e._uU(1," Codigo de Usuario "),e.qZA())}function ae(t,o){if(1&t&&(e.TgZ(0,"td",22),e._uU(1),e.qZA()),2&t){const r=o.$implicit;e.xp6(1),e.hij(" ",r.codigo_usuario," ")}}function ie(t,o){1&t&&(e.TgZ(0,"th",21),e._uU(1,"Acciones"),e.qZA())}function se(t,o){if(1&t){const r=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){e.CHM(r);const i=e.oxw().$implicit,p=e.oxw();return e.KtG(p.editar(i.id,i.DPI,i.nombres,i.apellidos,i.email,i.codigo_usuario,i.username))}),e.TgZ(1,"mat-icon",26),e._uU(2,"edit"),e.qZA()()}}function le(t,o){if(1&t){const r=e.EpF();e.TgZ(0,"button",27),e.NdJ("click",function(){e.CHM(r);const i=e.oxw().$implicit,p=e.oxw();return e.KtG(p.desactivar(i.id,i.username))}),e.TgZ(1,"mat-icon",28),e._uU(2,"delete"),e.qZA()()}}const ue=function(){return["editar-usuario"]},me=function(){return["desactivar-usuario"]};function de(t,o){1&t&&(e.TgZ(0,"td",22),e.YNc(1,se,3,0,"button",23),e.YNc(2,le,3,0,"button",24),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngxPermissionsOnly",e.DdM(2,ue)),e.xp6(1),e.Q6J("ngxPermissionsOnly",e.DdM(3,me)))}function pe(t,o){1&t&&e._UZ(0,"tr",29)}function ce(t,o){1&t&&e._UZ(0,"tr",30)}function ge(t,o){if(1&t&&(e.TgZ(0,"tr",31)(1,"td",32),e._uU(2),e.qZA()()),2&t){e.oxw();const r=e.MAs(10);e.xp6(2),e.hij('No hay resultados de "',r.value,'"')}}const fe=function(){return[5,10,25,100]};class g{constructor(o,r,a){this.userServide=o,this.formBuilder=r,this.dialogService=a,this.hide=!0,this.passwordType="password",this.loading=!1,this.displayedColumns=["id","DPI","nombres","apellidos","username","email","codigo_usuario","options"],this.dataSource=new l.by}ngOnInit(){this.cargarUsuarios()}cargarUsuarios(){this.userServide.getAllUsers().subscribe(o=>{this.dataSource=new l.by(o)})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(o){this.dataSource.filter=o.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}editar(o,r,a,i,p,q,Ee){this.dialogService.open(c,{height:"50rem",width:"60rem",data:{id:o,DPI:r,nombres:a,apellidos:i,email:p,codigo_usuario:q,username:Ee}}).afterClosed().subscribe(Fe=>{1===Fe&&this.cargarUsuarios()})}desactivar(o,r){h().fire({title:"\xbfEsta seguro que desea Desactivar el usuario: "+r+"?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Si",denyButtonText:"No"}).then(a=>{a.isConfirmed?this.userServide.desactiveUser(Number(o)).subscribe(i=>{1==i.status&&(this.cargarUsuarios(),h().fire("Ok!","Usuario Desactivado","success"))},i=>{this.loading=!1,console.log(i)}):a.isDenied&&h().fire("Cambios no guardados","","info")})}}g.\u0275fac=function(o){return new(o||g)(e.Y36(u),e.Y36(n.qu),e.Y36(C.uw))},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-user-page"]],viewQuery:function(o,r){if(1&o&&(e.Gf(A.NW,5),e.Gf(v.YE,5)),2&o){let a;e.iGM(a=e.CRH())&&(r.paginator=a.first),e.iGM(a=e.CRH())&&(r.sort=a.first)}},decls:41,vars:5,consts:[[1,"header"],["mat-fab","","color","accent","routerLink","create"],["aria-label","add"],["matInput","","placeholder","Ejemplo: example_user",3,"keyup"],["input",""],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","DPI"],["matColumnDef","nombres"],["matColumnDef","apellidos"],["matColumnDef","username"],["matColumnDef","email"],["matColumnDef","codigo_usuario"],["matColumnDef","options"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar usuario por p\xe1gina",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","matTooltip","Click para Editar","matTooltipPosition","right","color","primary","class","iconbutton",3,"click",4,"ngxPermissionsOnly"],["mat-icon-button","","matTooltip","Click para desactivar","color","warn","class","iconbutton",3,"click",4,"ngxPermissionsOnly"],["mat-icon-button","","matTooltip","Click para Editar","matTooltipPosition","right","color","primary",1,"iconbutton",3,"click"],["aria-label","Edit"],["mat-icon-button","","matTooltip","Click para desactivar","color","warn",1,"iconbutton",3,"click"],["aria-label","Delete"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Usuarios"),e.qZA(),e.TgZ(3,"a",1)(4,"mat-icon",2),e._uU(5,"add"),e.qZA()()(),e.TgZ(6,"mat-form-field")(7,"mat-label"),e._uU(8,"Buscar"),e.qZA(),e.TgZ(9,"input",3,4),e.NdJ("keyup",function(i){return r.applyFilter(i)}),e.qZA()(),e.TgZ(11,"div",5)(12,"table",6),e.ynx(13,7),e.YNc(14,R,2,0,"th",8),e.YNc(15,G,2,1,"td",9),e.BQk(),e.ynx(16,10),e.YNc(17,H,2,0,"th",8),e.YNc(18,L,2,1,"td",9),e.BQk(),e.ynx(19,11),e.YNc(20,V,2,0,"th",8),e.YNc(21,X,2,1,"td",9),e.BQk(),e.ynx(22,12),e.YNc(23,K,2,0,"th",8),e.YNc(24,W,2,1,"td",9),e.BQk(),e.ynx(25,13),e.YNc(26,ee,2,0,"th",8),e.YNc(27,re,2,1,"td",9),e.BQk(),e.ynx(28,14),e.YNc(29,te,2,0,"th",8),e.YNc(30,oe,2,1,"td",9),e.BQk(),e.ynx(31,15),e.YNc(32,ne,2,0,"th",8),e.YNc(33,ae,2,1,"td",9),e.BQk(),e.ynx(34,16),e.YNc(35,ie,2,0,"th",8),e.YNc(36,de,3,4,"td",9),e.BQk(),e.YNc(37,pe,1,0,"tr",17),e.YNc(38,ce,1,0,"tr",18),e.YNc(39,ge,3,1,"tr",19),e.qZA(),e._UZ(40,"mat-paginator",20),e.qZA()),2&o&&(e.xp6(12),e.Q6J("dataSource",r.dataSource),e.xp6(25),e.Q6J("matHeaderRowDef",r.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",r.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(4,fe)))},dependencies:[w.rH,m.KE,m.hX,T.Nt,U.RK,U.EX,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,l.Ee,j.Hw,A.NW,Z.gE],styles:["table[_ngcontent-%COMP%]{width:100%;padding:1em}.mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%;max-width:98%;margin:0 auto;display:flex}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:13%}.full-width-input[_ngcontent-%COMP%]{width:100% auto;padding:1em}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:1.5rem;padding:0 .4rem;font-family:Roboto,Helvetica Neue,sans-serif}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:inline;padding-top:.6rem;font-weight:400}"]});class b{static MatchPassword(o){const r=o.parent;if(r){const a=r.get("password"),i=r.get("passwordConfirm");if(a&&i)return a.value!==i.value?{matchPassword:!0}:null}return null}}function _e(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"DPI es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}function he(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"DPI debe contener"),e.TgZ(2,"strong"),e._uU(3," 13 digitos"),e.qZA()())}function Ue(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Nombres son "),e.TgZ(2,"strong"),e._uU(3,"requeridos"),e.qZA()())}function Ze(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Apellidos son "),e.TgZ(2,"strong"),e._uU(3,"requeridos"),e.qZA()())}function Ce(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Email es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}function Pe(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Codigo de usuario es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}function Te(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Nombre de usuario es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}function we(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Contrase\xf1a es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}function be(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Contrase\xf1a debe tener al menos "),e.TgZ(2,"strong"),e._uU(3," 8 caracteres, letras minusculas, letras mayusculas, numeros y caracteres especiales "),e.qZA()())}function qe(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Contrase\xf1a es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}function Ie(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Contrase\xf1a debe tener al menos "),e.TgZ(2,"strong"),e._uU(3," 8 caracteres, letras minusculas, letras mayusculas, numeros y caracteres especiales "),e.qZA()())}function Ae(t,o){1&t&&(e.TgZ(0,"mat-error")(1,"strong"),e._uU(2," Las contrase\xf1as no coinciden "),e.qZA()())}function Ne(t,o){if(1&t&&(e.TgZ(0,"button",15),e._uU(1," Guardar Usuario "),e.qZA()),2&t){const r=e.oxw();e.Q6J("disabled",!r.registerForm.valid)}}const ve=function(){return["crear-usuario"]};class f{constructor(o,r){this.userServide=o,this.formBuilder=r,this.buildForm()}buildForm(){this.registerForm=this.formBuilder.group({DPI:["",[n.kI.required,n.kI.pattern(/^((\\+91-?)|0)?[0-9]{13}$/)]],nombres:["",[n.kI.required]],apellidos:["",[n.kI.required]],email:["",[n.kI.required,n.kI.email]],codigo_usuario:["",[n.kI.required]],password:["",[n.kI.required,n.kI.pattern(/^(?=\D*\d)(?=[^a-z]*[a-z])(?=.*[$@$!%*?&])(?=[^A-Z]*[A-Z]).{8,30}$/)]],passwordConfirm:["",[n.kI.required,n.kI.pattern(/^(?=\D*\d)(?=[^a-z]*[a-z])(?=.*[$@$!%*?&])(?=[^A-Z]*[A-Z]).{8,30}$/),b.MatchPassword]],username:["",[n.kI.required]]})}registerUser(){this.registerForm.valid&&(this.user=this.registerForm.value,this.userServide.newUser(this.user).subscribe(o=>{1==o.status&&h().fire("Ok!",o.message,"success")},o=>{console.log(o)}))}get DPI(){return this.registerForm.get("DPI")}get Nombres(){return this.registerForm.get("nombres")}get Email(){return this.registerForm.get("email")}get CodigoUsuario(){return this.registerForm.get("codigo_usuario")}get Password(){return this.registerForm.get("password")}get PasswordConfirm(){return this.registerForm.get("passwordConfirm")}get Username(){return this.registerForm.get("username")}get Apellidos(){return this.registerForm.get("apellidos")}}f.\u0275fac=function(o){return new(o||f)(e.Y36(u),e.Y36(n.qu))},f.\u0275cmp=e.Xpm({type:f,selectors:[["app-new-user-page"]],decls:60,vars:31,consts:[[1,"card"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["appearance","outline",1,"full-width-input"],["type","number","formControlName","DPI","matInput","","placeholder","2320 55634 0103","required",""],[4,"ngIf"],["type","text","matInput","","formControlName","nombres","placeholder","Primer Nombre, Segundo Nombre...","required","",1,"form-control"],["type","text","formControlName","apellidos","matInput","","placeholder","Primer Apellido, Segundo Apellido...","required","",1,"form-control"],["type","email","formControlName","email","matInput","","placeholder","ejemplo.correo@gmail.com","required","",1,"form-control"],["type","number","formControlName","codigo_usuario","matInput","","placeholder","0985","required","",1,"form-control"],["type","text","formControlName","username","matInput","","placeholder","usuario2023","required","",1,"form-control"],["type","password","formControlName","password","matInput","","required","",1,"form-control"],["type","password","formControlName","passwordConfirm","matInput","","required","",1,"form-control"],["type","submit","mat-raised-button","","color","primary",3,"disabled",4,"ngxPermissionsOnly"],["type","submit","mat-raised-button","","color","primary",3,"disabled"]],template:function(o,r){1&o&&(e._UZ(0,"br")(1,"br")(2,"br"),e.TgZ(3,"div",0)(4,"div",1)(5,"form",2),e.NdJ("ngSubmit",function(){return r.registerUser()}),e.TgZ(6,"div",3)(7,"mat-form-field",4)(8,"mat-label"),e._uU(9,"Ingrese su DPI"),e.qZA(),e._UZ(10,"input",5),e.YNc(11,_e,4,0,"mat-error",6),e.YNc(12,he,4,0,"mat-error",6),e.qZA()(),e.TgZ(13,"div",3)(14,"mat-form-field",4)(15,"mat-label"),e._uU(16,"Ingrese su Nombre"),e.qZA(),e._UZ(17,"input",7),e.YNc(18,Ue,4,0,"mat-error",6),e.qZA()(),e.TgZ(19,"div",3)(20,"mat-form-field",4)(21,"mat-label"),e._uU(22,"Ingrese su Apellido"),e.qZA(),e._UZ(23,"input",8),e.YNc(24,Ze,4,0,"mat-error",6),e.qZA()(),e.TgZ(25,"div",3)(26,"mat-form-field",4)(27,"mat-label"),e._uU(28,"Ingrese su Email"),e.qZA(),e._UZ(29,"input",9),e.YNc(30,Ce,4,0,"mat-error",6),e.qZA()(),e.TgZ(31,"div",3)(32,"mat-form-field",4)(33,"mat-label"),e._uU(34,"Ingrese el Codigo de Usuario"),e.qZA(),e._UZ(35,"input",10),e.YNc(36,Pe,4,0,"mat-error",6),e.qZA()(),e.TgZ(37,"div",3)(38,"mat-form-field",4)(39,"mat-label"),e._uU(40,"Ingrese el Nombre de Usuario"),e.qZA(),e._UZ(41,"input",11),e.YNc(42,Te,4,0,"mat-error",6),e.qZA()(),e.TgZ(43,"div",3)(44,"mat-form-field",4)(45,"mat-label"),e._uU(46,"Ingrese Contrase\xf1a"),e.qZA(),e._UZ(47,"input",12),e.YNc(48,we,4,0,"mat-error",6),e.YNc(49,be,4,0,"mat-error",6),e.qZA()(),e.TgZ(50,"div",3)(51,"mat-form-field",4)(52,"mat-label"),e._uU(53,"Confirme Contrase\xf1a"),e.qZA(),e._UZ(54,"input",13),e.YNc(55,qe,4,0,"mat-error",6),e.YNc(56,Ie,4,0,"mat-error",6),e.YNc(57,Ae,3,0,"mat-error",6),e.qZA()(),e.TgZ(58,"div",3),e.YNc(59,Ne,2,1,"button",14),e.qZA()()()()),2&o&&(e.xp6(5),e.Q6J("formGroup",r.registerForm),e.xp6(3),e.Udp("font-size",16,"px"),e.xp6(3),e.Q6J("ngIf",(null==r.DPI?null:r.DPI.touched)&&(null==r.DPI?null:r.DPI.hasError("required"))),e.xp6(1),e.Q6J("ngIf",(null==r.DPI?null:r.DPI.touched)&&(null==r.DPI?null:r.DPI.hasError("pattern"))),e.xp6(3),e.Udp("font-size",16,"px"),e.xp6(3),e.Q6J("ngIf",(null==r.Nombres?null:r.Nombres.touched)&&(null==r.Nombres?null:r.Nombres.hasError("required"))),e.xp6(3),e.Udp("font-size",16,"px"),e.xp6(3),e.Q6J("ngIf",(null==r.Apellidos?null:r.Apellidos.touched)&&(null==r.Apellidos?null:r.Apellidos.hasError("required"))),e.xp6(3),e.Udp("font-size",16,"px"),e.xp6(3),e.Q6J("ngIf",(null==r.Email?null:r.Email.touched)&&(null==r.Email?null:r.Email.hasError("required"))),e.xp6(3),e.Udp("font-size",16,"px"),e.xp6(3),e.Q6J("ngIf",(null==r.CodigoUsuario?null:r.CodigoUsuario.touched)&&(null==r.CodigoUsuario?null:r.CodigoUsuario.hasError("required"))),e.xp6(3),e.Udp("font-size",16,"px"),e.xp6(3),e.Q6J("ngIf",(null==r.Username?null:r.Username.touched)&&(null==r.Username?null:r.Username.hasError("required"))),e.xp6(3),e.Udp("font-size",16,"px"),e.xp6(3),e.Q6J("ngIf",(null==r.Password?null:r.Password.touched)&&(null==r.Password?null:r.Password.hasError("required"))),e.xp6(1),e.Q6J("ngIf",(null==r.Password?null:r.Password.touched)&&(null==r.Password?null:r.Password.hasError("pattern"))),e.xp6(3),e.Udp("font-size",16,"px"),e.xp6(3),e.Q6J("ngIf",(null==r.PasswordConfirm?null:r.PasswordConfirm.touched)&&(null==r.PasswordConfirm?null:r.PasswordConfirm.hasError("required"))),e.xp6(1),e.Q6J("ngIf",(null==r.PasswordConfirm?null:r.PasswordConfirm.touched)&&(null==r.PasswordConfirm?null:r.PasswordConfirm.hasError("pattern"))),e.xp6(1),e.Q6J("ngIf",(null==r.PasswordConfirm?null:r.PasswordConfirm.touched)&&(null==r.PasswordConfirm?null:r.PasswordConfirm.hasError("matchPassword"))),e.xp6(2),e.Q6J("ngxPermissionsOnly",e.DdM(30,ve)))},dependencies:[P.O5,m.KE,m.hX,m.TO,T.Nt,U.lW,n._Y,n.Fj,n.wV,n.JJ,n.JL,n.Q7,n.sg,n.u,Z.gE],styles:[".full-width-input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{width:100%;max-width:95%;margin:0 auto;display:flex}.example-section[_ngcontent-%COMP%]{max-width:95%;margin:0 auto;display:flex}.example-margin[_ngcontent-%COMP%]{margin:0 12px}ul[_ngcontent-%COMP%]{list-style-type:none;margin-top:4px}"]});const ye=[{path:"",component:g},{path:"create",component:f}];class d{}d.\u0275fac=function(o){return new(o||d)},d.\u0275mod=e.oAB({type:d}),d.\u0275inj=e.cJS({imports:[w.Bz.forChild(ye),w.Bz]});var De=s(4657);class _{}_.\u0275fac=function(o){return new(o||_)},_.\u0275mod=e.oAB({type:_}),_.\u0275inj=e.cJS({imports:[P.ez,d,De.M,n.UX,N.p9,Z.VI.forChild()]})}}]);