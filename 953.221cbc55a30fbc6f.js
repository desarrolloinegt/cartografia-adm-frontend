"use strict";(self.webpackChunkcartografia_app=self.webpackChunkcartografia_app||[]).push([[953],{7953:(qt,N,a)=>{a.r(N),a.d(N,{GroupPagesComponent:()=>b,GroupService:()=>l,GroupsModule:()=>Z,GroupsRoutingModule:()=>g});var x=a(9132),D=a(8739),O=a(6308),c=a(7155),i=a(4006),m=a(7274),k=a(5226),f=a.n(k),t=a(4650),J=a(5357),Y=a(6570);class l{constructor(o){this.apiService=o}getGroups(){return this.apiService.getAll("grupos")}create(o){return this.apiService.store("grupo",o)}editGroup(o){return this.apiService.patch("grupo/edit",o)}getGroupsRoles(o){return this.apiService.getById("obtenerGruposRoles",o)}editGroupRoles(o){return this.apiService.patch("asignacionGrupoRol/edit",o)}assignGroupRoles(o){return this.apiService.store("asignarGrupoRol",o)}getGroupsUsers(o){return this.apiService.getById("obtenerGrupoUsuarios",o)}editGroupUsers(o){return this.apiService.patch("asignacionGrupoUsuario/edit",o)}assignGroupUsers(o){return this.apiService.store("asignarGrupoUsuario",o)}}l.\u0275fac=function(o){return new(o||l)(t.LFG(Y.s))},l.\u0275prov=t.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"});var d=a(6895),p=a(9549),_=a(4859),G=a(6338),h=a(4954);function S(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.editGroup())}),t._uU(1," Guardar "),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("disabled",!e.editForm.valid)}}function R(r,o){if(1&r&&(t.TgZ(0,"mat-list-option",13),t._uU(1),t.qZA()),2&r){const e=o.$implicit;t.Q6J("selected",e.checked)("value",e.id),t.xp6(1),t.hij(" ",e.nombre," ")}}const M=function(){return["asignar-rol-grupo"]};class v{constructor(o,e,n,s,u){this.roleService=o,this.groupService=e,this.dialogRef=n,this.data=s,this.formBuilder=u,this.checked=!1,this.roles=[],this.buildForm(),this.getRoles()}submit(){}buildForm(){this.editForm=this.formBuilder.group({grupo_id:[this.data.id,[i.kI.required]],roles:[[],[i.kI.required]]})}get Roles(){return this.editForm.get("roles")}editGroup(){this.editForm.valid&&this.groupService.editGroupRoles(this.editForm.value).subscribe(o=>{1==o.status&&(f().fire("Ok!",o.message,"success"),this.dialogRef.close(1))},o=>{console.log(o)})}getRoles(){this.roleService.getRoles().subscribe(o=>{this.roles=o,this.roles.forEach(e=>{e.checked=!1}),this.defaultRoles()})}defaultRoles(){for(let o=0;o<this.roles.length;o++)for(let e=0;e<this.data.roles.length;e++)this.roles[o].nombre==this.data.roles[e].nombre&&(this.roles[o].checked=!0)}cancelEdit(){this.dialogRef.close()}}v.\u0275fac=function(o){return new(o||v)(t.Y36(J.N),t.Y36(l),t.Y36(m.so),t.Y36(m.WI),t.Y36(i.qu))},v.\u0275cmp=t.Xpm({type:v,selectors:[["app-group-role-edit-dialog"]],decls:19,vars:6,consts:[[1,"card"],["mat-dialog-title",""],["mat-dialog-subtitle",""],[1,"card-body"],[3,"formGroup","submit"],[1,"form-group"],["type","submit","mat-stroked-button","","color","primary",3,"disabled","click",4,"ngxPermissionsOnly"],["type","submit","mat-stroked-button","","color","warn",3,"click"],[1,"example-section"],["formControlName","roles"],["rolesList",""],[3,"selected","value",4,"ngFor","ngForOf"],["type","submit","mat-stroked-button","","color","primary",3,"disabled","click"],[3,"selected","value"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"h3",1),t._uU(2),t.qZA(),t.TgZ(3,"h6",2),t._uU(4),t.qZA(),t._UZ(5,"br")(6,"br"),t.TgZ(7,"div",3)(8,"form",4),t.NdJ("submit",function(){return e.submit()}),t.TgZ(9,"div",5),t.YNc(10,S,2,1,"button",6),t.TgZ(11,"button",7),t.NdJ("click",function(){return e.cancelEdit()}),t._uU(12," Cancelar "),t.qZA()(),t.TgZ(13,"div",8)(14,"mat-label"),t._uU(15,"Roles"),t.qZA(),t.TgZ(16,"mat-selection-list",9,10),t.YNc(18,R,2,3,"mat-list-option",11),t.qZA()()()()()),2&o&&(t.xp6(2),t.hij("Grupo: ",e.data.nombre,""),t.xp6(2),t.hij("Id: ",e.data.id,""),t.xp6(4),t.Q6J("formGroup",e.editForm),t.xp6(2),t.Q6J("ngxPermissionsOnly",t.DdM(5,M)),t.xp6(8),t.Q6J("ngForOf",e.roles))},dependencies:[d.sg,p.hX,_.lW,G.Ub,G.vS,i._Y,i.JJ,i.JL,i.sg,i.u,h.gE],styles:[".mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.full-width-input[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{width:50%}.card[_ngcontent-%COMP%]{padding:2rem}"]});var I=a(1449);function j(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.editGroup())}),t._uU(1," Guardar "),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("disabled",!e.editForm.valid)}}function Q(r,o){if(1&r&&(t.TgZ(0,"mat-list-option",13),t._uU(1),t.qZA()),2&r){const e=o.$implicit;t.Q6J("selected",e.checked)("value",e.id),t.xp6(1),t.hij(" ",e.username," ")}}const B=function(){return["asignar-usuario-grupo"]};class y{constructor(o,e,n,s,u){this.userService=o,this.groupService=e,this.dialogRef=n,this.data=s,this.formBuilder=u,this.checked=!1,this.users=[],this.buildForm(),this.getUsers()}submit(){}buildForm(){this.editForm=this.formBuilder.group({grupo_id:[this.data.id,[i.kI.required]],usuarios:[[],[i.kI.required]]})}get Roles(){return this.editForm.get("roles")}editGroup(){this.editForm.valid&&this.groupService.editGroupUsers(this.editForm.value).subscribe(o=>{1==o.status&&(f().fire("Ok!",o.message,"success"),this.dialogRef.close(1))},o=>{console.log(o)})}getUsers(){this.userService.getAllUserListView().subscribe(o=>{this.users=o,this.users.forEach(e=>{e.checked=!1}),this.defaultUsers()})}defaultUsers(){for(let o=0;o<this.users.length;o++)for(let e=0;e<this.data.usuarios.length;e++)this.users[o].username==this.data.usuarios[e].username&&(this.users[o].checked=!0)}cancelEdit(){this.dialogRef.close()}}y.\u0275fac=function(o){return new(o||y)(t.Y36(I.UserService),t.Y36(l),t.Y36(m.so),t.Y36(m.WI),t.Y36(i.qu))},y.\u0275cmp=t.Xpm({type:y,selectors:[["app-group-user-edit-dialog"]],decls:19,vars:6,consts:[[1,"card"],["mat-dialog-title",""],["mat-dialog-subtitle",""],[1,"card-body"],[3,"formGroup","submit"],[1,"form-group"],["type","submit","mat-stroked-button","","color","primary",3,"disabled","click",4,"ngxPermissionsOnly"],["type","submit","mat-stroked-button","","color","warn",3,"click"],[1,"example-section"],["formControlName","usuarios"],["rolesList",""],[3,"selected","value",4,"ngFor","ngForOf"],["type","submit","mat-stroked-button","","color","primary",3,"disabled","click"],[3,"selected","value"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"h3",1),t._uU(2),t.qZA(),t.TgZ(3,"h6",2),t._uU(4),t.qZA(),t._UZ(5,"br")(6,"br"),t.TgZ(7,"div",3)(8,"form",4),t.NdJ("submit",function(){return e.submit()}),t.TgZ(9,"div",5),t.YNc(10,j,2,1,"button",6),t.TgZ(11,"button",7),t.NdJ("click",function(){return e.cancelEdit()}),t._uU(12," Cancelar "),t.qZA()(),t.TgZ(13,"div",8)(14,"mat-label"),t._uU(15,"Usuarios"),t.qZA(),t.TgZ(16,"mat-selection-list",9,10),t.YNc(18,Q,2,3,"mat-list-option",11),t.qZA()()()()()),2&o&&(t.xp6(2),t.hij("Grupo: ",e.data.nombre,""),t.xp6(2),t.hij("Id: ",e.data.id,""),t.xp6(4),t.Q6J("formGroup",e.editForm),t.xp6(2),t.Q6J("ngxPermissionsOnly",t.DdM(5,B)),t.xp6(8),t.Q6J("ngForOf",e.users))},dependencies:[d.sg,p.hX,_.lW,G.Ub,G.vS,i._Y,i.JJ,i.JL,i.sg,i.u,h.gE],styles:[".mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%;max-width:98%;margin:0 auto;display:flex}.full-width-input[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{width:50%}.card[_ngcontent-%COMP%]{padding:2rem}"]});class q{static getHierarchys(){return[1,2,3,4,5,6,7]}}var w=a(8049),P=a(4144),U=a(4385),E=a(3238);function H(r,o){1&r&&(t.TgZ(0,"mat-error"),t._uU(1,"Nombre de Encuesta es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function z(r,o){1&r&&(t.TgZ(0,"mat-error"),t._uU(1,"Descripcion es "),t.TgZ(2,"strong"),t._uU(3,"requerida"),t.qZA()())}function X(r,o){if(1&r&&(t.TgZ(0,"mat-option",13),t._uU(1),t.qZA()),2&r){const e=o.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.nombre)}}function $(r,o){1&r&&(t.TgZ(0,"mat-error"),t._uU(1,"Proyecto es "),t.TgZ(2,"strong"),t._uU(3,"requerida"),t.qZA()())}function K(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.editGroup())}),t._uU(1," Editar Grupo "),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("disabled",!e.editForm.valid)}}const L=function(){return["editar-grupo"]};class C{constructor(o,e,n,s,u){this.groupService=o,this.projectService=e,this.dialogRef=n,this.data=s,this.formBuilder=u,this.projects=[],this.jerarquias=q.getHierarchys(),this.buildForm(),this.getProjects()}submit(){}buildForm(){this.editForm=this.formBuilder.group({id:[this.data.id,[i.kI.required]],nombre:[this.data.nombre,[i.kI.required]],descripcion:[this.data.descripcion],proyecto_id:[this.data.proyecto_id,[i.kI.required]]})}get Id(){return this.editForm.get("id")}get Nombre(){return this.editForm.get("nombre")}get Descripcion(){return this.editForm.get("descripcion")}get ProyectoId(){return this.editForm.get("proyecto_id")}get Jerarquia(){return this.editForm.get("jerarquia")}getProjects(){this.projectService.getProjectView().subscribe(o=>{this.projects=o})}editGroup(){this.editForm.valid&&this.groupService.editGroup(this.editForm.value).subscribe(o=>{1==o.status&&(f().fire("Ok!",o.message,"success"),this.dialogRef.close(1))},o=>{console.log(o)})}cancelEdit(){this.dialogRef.close()}}C.\u0275fac=function(o){return new(o||C)(t.Y36(l),t.Y36(w.Y),t.Y36(m.so),t.Y36(m.WI),t.Y36(i.qu))},C.\u0275cmp=t.Xpm({type:C,selectors:[["app-edit-group-dialog"]],decls:30,vars:14,consts:[[1,"card"],["mat-dialog-title",""],[1,"card-body"],[3,"formGroup","submit"],[1,"form-group"],["appearance","outline",1,"full-width-input"],["type","text","formControlName","nombre","matInput","","placeholder","Grupo Supervisores ENEI","required","",1,"form-control"],[4,"ngIf"],["type","text","formControlName","descripcion","placeholder","Proyecto 2026","matInput","",1,"form-control"],["formControlName","proyecto_id"],[3,"value",4,"ngFor","ngForOf"],["type","submit","mat-stroked-button","","color","primary",3,"disabled","click",4,"ngxPermissionsOnly"],["type","submit","mat-stroked-button","","color","warn",3,"click"],[3,"value"],["type","submit","mat-stroked-button","","color","primary",3,"disabled","click"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"h3",1),t._uU(2),t.qZA(),t._UZ(3,"br")(4,"br"),t.TgZ(5,"div",2)(6,"form",3),t.NdJ("submit",function(){return e.submit()}),t.TgZ(7,"div",4)(8,"mat-form-field",5)(9,"mat-label"),t._uU(10,"Ingrese el Nombre del Grupo"),t.qZA(),t._UZ(11,"input",6),t.YNc(12,H,4,0,"mat-error",7),t.qZA()(),t.TgZ(13,"div",4)(14,"mat-form-field",5)(15,"mat-label"),t._uU(16,"Descripcion"),t.qZA(),t._UZ(17,"input",8),t.YNc(18,z,4,0,"mat-error",7),t.qZA()(),t.TgZ(19,"div",4)(20,"mat-form-field",5)(21,"mat-label"),t._uU(22,"Seleccione un proyecto"),t.qZA(),t.TgZ(23,"mat-select",9),t.YNc(24,X,2,2,"mat-option",10),t.qZA(),t.YNc(25,$,4,0,"mat-error",7),t.qZA()(),t.TgZ(26,"div",4),t.YNc(27,K,2,1,"button",11),t.TgZ(28,"button",12),t.NdJ("click",function(){return e.cancelEdit()}),t._uU(29," Cancelar "),t.qZA()()()()()),2&o&&(t.xp6(2),t.hij("Encuesta: ",e.data.nombre,""),t.xp6(4),t.Q6J("formGroup",e.editForm),t.xp6(3),t.Udp("font-size",16,"px"),t.xp6(3),t.Q6J("ngIf",(null==e.Nombre?null:e.Nombre.touched)&&(null==e.Nombre?null:e.Nombre.hasError("required"))),t.xp6(3),t.Udp("font-size",16,"px"),t.xp6(3),t.Q6J("ngIf",(null==e.Descripcion?null:e.Descripcion.touched)&&(null==e.Descripcion?null:e.Descripcion.hasError("required"))),t.xp6(3),t.Udp("font-size",16,"px"),t.xp6(3),t.Q6J("ngForOf",e.projects),t.xp6(1),t.Q6J("ngIf",(null==e.ProyectoId?null:e.ProyectoId.touched)&&(null==e.ProyectoId?null:e.ProyectoId.hasError("required"))),t.xp6(2),t.Q6J("ngxPermissionsOnly",t.DdM(13,L)))},dependencies:[d.sg,d.O5,p.KE,p.hX,p.TO,P.Nt,_.lW,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.sg,i.u,U.gD,E.ey,h.gE],styles:[".mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.full-width-input[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{width:50%}.card[_ngcontent-%COMP%]{padding:2rem}"]});var F=a(7392),A=a(266);function W(r,o){1&r&&(t.TgZ(0,"th",19),t._uU(1,"ID"),t.qZA())}function V(r,o){if(1&r&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&r){const e=o.$implicit;t.xp6(1),t.Oqu(e.id)}}function tt(r,o){1&r&&(t.TgZ(0,"th",19),t._uU(1,"Nombre"),t.qZA())}function ot(r,o){if(1&r&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&r){const e=o.$implicit;t.xp6(1),t.Oqu(e.nombre)}}function et(r,o){1&r&&(t.TgZ(0,"th",19),t._uU(1,"Descripcion"),t.qZA())}function rt(r,o){if(1&r&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&r){const e=o.$implicit;t.xp6(1),t.Oqu(e.descripcion)}}function it(r,o){1&r&&(t.TgZ(0,"th",19),t._uU(1,"Jerarquia"),t.qZA())}function nt(r,o){if(1&r&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&r){const e=o.$implicit;t.xp6(1),t.Oqu(e.jerarquia)}}function st(r,o){1&r&&(t.TgZ(0,"th",19),t._uU(1,"Proyecto"),t.qZA())}function at(r,o){if(1&r&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&r){const e=o.$implicit;t.xp6(1),t.Oqu(e.proyecto)}}function ut(r,o){1&r&&(t.TgZ(0,"th",19),t._uU(1,"Acciones"),t.qZA())}function ct(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,u=t.oxw();return t.KtG(u.editar(s.id,s.nombre,s.descripcion,s.jerarquia,s.proyecto_id))}),t.TgZ(1,"mat-icon",26),t._uU(2,"edit"),t.qZA()()}}function lt(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,u=t.oxw();return t.KtG(u.desactivar(s.id,s.nombre))}),t.TgZ(1,"mat-icon",28),t._uU(2,"delete"),t.qZA()()}}function pt(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,u=t.oxw();return t.KtG(u.verUsuarios(s.id,s.nombre))}),t.TgZ(1,"mat-icon"),t._uU(2,"supervised_user_circle"),t.qZA()()}}function mt(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,u=t.oxw();return t.KtG(u.verRoles(s.id,s.nombre))}),t.TgZ(1,"mat-icon"),t._uU(2,"list_alt"),t.qZA()()}}const dt=function(){return["editar-grupo"]},gt=function(){return["desactivar-grupo"]},ft=function(){return["ver-usuario-grupo"]},_t=function(){return["ver-rol-grupo"]};function ht(r,o){1&r&&(t.TgZ(0,"td",20),t.YNc(1,ct,3,0,"button",21),t.YNc(2,lt,3,0,"button",22),t.YNc(3,pt,3,0,"button",23),t.YNc(4,mt,3,0,"button",24),t.qZA()),2&r&&(t.xp6(1),t.Q6J("ngxPermissionsOnly",t.DdM(4,dt)),t.xp6(1),t.Q6J("ngxPermissionsOnly",t.DdM(5,gt)),t.xp6(1),t.Q6J("ngxPermissionsOnly",t.DdM(6,ft)),t.xp6(1),t.Q6J("ngxPermissionsOnly",t.DdM(7,_t)))}function bt(r,o){1&r&&t._UZ(0,"tr",31)}function Zt(r,o){1&r&&t._UZ(0,"tr",32)}function vt(r,o){if(1&r&&(t.TgZ(0,"tr",33)(1,"td",34),t._uU(2),t.qZA()()),2&r){t.oxw();const e=t.MAs(10);t.xp6(2),t.hij(' No hay resultados de "',e.value,'" ')}}const yt=function(){return[5,10,25,100]};class b{constructor(o,e){this.groupService=o,this.dialogService=e,this.displayedColumns=["id","nombre","descripcion","proyecto","options"],this.groupData={id:0,nombre:"",descripcion:"",jerarquia:0,proyecto:"",proyecto_id:0},this.userData={id:0,nombre:"",usuarios:[]},this.roleData={id:0,nombre:"",roles:[]},this.dataSource=new c.by}applyFilter(o){this.dataSource.filter=o.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}editar(o,e,n,s,u){this.groupData.id=Number(o),this.groupData.nombre=e,this.groupData.descripcion=n,this.groupData.jerarquia=Number(s),this.groupData.proyecto_id=Number(u),console.log(this.groupData),this.dialogService.open(C,{height:"30rem",width:"50rem",data:this.groupData}).afterClosed().subscribe(Dt=>{1===Dt&&this.cargarGrupos()})}ngOnInit(){this.cargarGrupos()}cargarGrupos(){this.groupService.getGroups().subscribe(o=>{this.dataSource=new c.by(o)})}desactivar(o,e){f().fire({title:"\xbfEsta seguro que desea Desactivar el grupo: "+e+"?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Si",denyButtonText:"No"}).then(n=>{n.isConfirmed||n.isDenied&&f().fire("Cambios no guardados","","info")})}verUsuarios(o,e){this.userData.id=Number(o),this.userData.nombre=e,this.groupService.getGroupsUsers(this.userData.id).subscribe(n=>{this.userData.usuarios=n,this.dialogService.open(y,{height:"30rem",width:"50rem",data:this.userData})})}verRoles(o,e){this.roleData.id=Number(o),this.roleData.nombre=e,this.groupService.getGroupsRoles(this.roleData.id).subscribe(n=>{this.roleData.roles=n,this.dialogService.open(v,{height:"30rem",width:"50rem",data:this.roleData})})}}function Ct(r,o){1&r&&(t.TgZ(0,"mat-error"),t._uU(1,"Nombre de Encuesta es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function Tt(r,o){if(1&r&&(t.TgZ(0,"mat-option",11),t._uU(1),t.qZA()),2&r){const e=o.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.nombre)}}function Gt(r,o){1&r&&(t.TgZ(0,"mat-error"),t._uU(1,"Proyecto es "),t.TgZ(2,"strong"),t._uU(3,"requerida"),t.qZA()())}function xt(r,o){if(1&r&&(t.TgZ(0,"button",12),t._uU(1," Guardar Grupo "),t.qZA()),2&r){const e=t.oxw();t.Q6J("disabled",!e.groupForm.valid)}}b.\u0275fac=function(o){return new(o||b)(t.Y36(l),t.Y36(m.uw))},b.\u0275cmp=t.Xpm({type:b,selectors:[["app-group-pages"]],viewQuery:function(o,e){if(1&o&&(t.Gf(D.NW,5),t.Gf(O.YE,5)),2&o){let n;t.iGM(n=t.CRH())&&(e.paginator=n.first),t.iGM(n=t.CRH())&&(e.sort=n.first)}},decls:35,vars:5,consts:[[1,"header"],["mat-fab","","color","accent","routerLink","create"],["aria-label","add"],["matInput","","placeholder","Ej. ENEI",3,"keyup"],["input",""],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombre"],["matColumnDef","descripcion"],["matColumnDef","jerarquia"],["matColumnDef","proyecto"],["matColumnDef","options"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","matTooltip","Click para Editar","matTooltipPosition","right","color","primary","class","iconbutton",3,"click",4,"ngxPermissionsOnly"],["mat-icon-button","","matTooltip","Click para desactivar","color","warn","class","iconbutton",3,"click",4,"ngxPermissionsOnly"],["mat-icon-button","","matTooltip","Click para ver usuarios","color","primary","class","iconbutton",3,"click",4,"ngxPermissionsOnly"],["mat-icon-button","","matTooltip","Click para ver roles","color","primary","class","iconbutton",3,"click",4,"ngxPermissionsOnly"],["mat-icon-button","","matTooltip","Click para Editar","matTooltipPosition","right","color","primary",1,"iconbutton",3,"click"],["aria-label","Edit"],["mat-icon-button","","matTooltip","Click para desactivar","color","warn",1,"iconbutton",3,"click"],["aria-label","Delete"],["mat-icon-button","","matTooltip","Click para ver usuarios","color","primary",1,"iconbutton",3,"click"],["mat-icon-button","","matTooltip","Click para ver roles","color","primary",1,"iconbutton",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"Grupos"),t.qZA(),t.TgZ(3,"a",1)(4,"mat-icon",2),t._uU(5,"add"),t.qZA()()(),t.TgZ(6,"mat-form-field")(7,"mat-label"),t._uU(8,"Buscar"),t.qZA(),t.TgZ(9,"input",3,4),t.NdJ("keyup",function(s){return e.applyFilter(s)}),t.qZA()(),t.TgZ(11,"div",5)(12,"table",6),t.ynx(13,7),t.YNc(14,W,2,0,"th",8),t.YNc(15,V,2,1,"td",9),t.BQk(),t.ynx(16,10),t.YNc(17,tt,2,0,"th",8),t.YNc(18,ot,2,1,"td",9),t.BQk(),t.ynx(19,11),t.YNc(20,et,2,0,"th",8),t.YNc(21,rt,2,1,"td",9),t.BQk(),t.ynx(22,12),t.YNc(23,it,2,0,"th",8),t.YNc(24,nt,2,1,"td",9),t.BQk(),t.ynx(25,13),t.YNc(26,st,2,0,"th",8),t.YNc(27,at,2,1,"td",9),t.BQk(),t.ynx(28,14),t.YNc(29,ut,2,0,"th",8),t.YNc(30,ht,5,8,"td",9),t.BQk(),t.YNc(31,bt,1,0,"tr",15),t.YNc(32,Zt,1,0,"tr",16),t.YNc(33,vt,3,1,"tr",17),t.qZA(),t._UZ(34,"mat-paginator",18),t.qZA()),2&o&&(t.xp6(12),t.Q6J("dataSource",e.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(4,yt)))},dependencies:[x.rH,p.KE,p.hX,P.Nt,_.RK,_.EX,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,c.Ee,F.Hw,D.NW,A.gM,h.gE],styles:["table[_ngcontent-%COMP%]{width:100%;padding:1em}.mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%;max-width:98%;margin:0 auto;display:flex}.full-width-input[_ngcontent-%COMP%]{width:100% auto;padding:1em}.example-section[_ngcontent-%COMP%]{margin:12px}.example-margin[_ngcontent-%COMP%]{margin:0 12px}ul[_ngcontent-%COMP%]{list-style-type:none;margin-top:4px}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:1.5rem;padding:0 .4rem;font-family:Roboto,Helvetica Neue,sans-serif}"]});const Pt=function(){return["crear-grupo"]};class T{constructor(o,e,n){this.groupService=o,this.projectService=e,this.formBuilder=n,this.projects=[],this.jerarquias=q.getHierarchys(),this.buildForm(),this.getProjects()}buildForm(){this.groupForm=this.formBuilder.group({nombre:["",i.kI.required],descripcion:[""],proyecto_id:["",[i.kI.required]]})}get Nombre(){return this.groupForm.get("nombre")}get Descripcion(){return this.groupForm.get("descripcion")}get ProyectoId(){return this.groupForm.get("proyecto_id")}get Jerarquia(){return this.groupForm.get("jerarquia")}getProjects(){this.projectService.getProjectView().subscribe(o=>{this.projects=o})}createGroup(){this.groupForm.valid&&this.groupService.create(this.groupForm.value).subscribe(o=>{1==o.status&&f().fire("Ok!",o.message,"success")},o=>{console.log(o)})}}T.\u0275fac=function(o){return new(o||T)(t.Y36(l),t.Y36(w.Y),t.Y36(i.qu))},T.\u0275cmp=t.Xpm({type:T,selectors:[["app-new-group-pages"]],decls:26,vars:12,consts:[[1,"card"],[1,"card-body"],[3,"formGroup","submit"],[1,"form-group"],["appearance","outline",1,"full-width-input"],["type","text","formControlName","nombre","matInput","","placeholder","Grupo Supervisores ENEI","required","",1,"form-control"],[4,"ngIf"],["type","text","formControlName","descripcion","placeholder","Proyecto 2026","matInput","",1,"form-control"],["formControlName","proyecto_id"],[3,"value",4,"ngFor","ngForOf"],["type","submit","mat-raised-button","","color","primary",3,"disabled",4,"ngxPermissionsOnly"],[3,"value"],["type","submit","mat-raised-button","","color","primary",3,"disabled"]],template:function(o,e){1&o&&(t._UZ(0,"br")(1,"br")(2,"br"),t.TgZ(3,"div",0)(4,"div",1)(5,"form",2),t.NdJ("submit",function(){return e.createGroup()}),t.TgZ(6,"div",3)(7,"mat-form-field",4)(8,"mat-label"),t._uU(9,"Ingrese el Nombre del Grupo"),t.qZA(),t._UZ(10,"input",5),t.YNc(11,Ct,4,0,"mat-error",6),t.qZA()(),t.TgZ(12,"div",3)(13,"mat-form-field",4)(14,"mat-label"),t._uU(15,"Descripcion"),t.qZA(),t._UZ(16,"input",7),t.qZA()(),t.TgZ(17,"div",3)(18,"mat-form-field",4)(19,"mat-label"),t._uU(20,"Seleccione un proyecto"),t.qZA(),t.TgZ(21,"mat-select",8),t.YNc(22,Tt,2,2,"mat-option",9),t.qZA(),t.YNc(23,Gt,4,0,"mat-error",6),t.qZA()(),t.TgZ(24,"div",3),t.YNc(25,xt,2,1,"button",10),t.qZA()()()()),2&o&&(t.xp6(5),t.Q6J("formGroup",e.groupForm),t.xp6(3),t.Udp("font-size",16,"px"),t.xp6(3),t.Q6J("ngIf",(null==e.Nombre?null:e.Nombre.touched)&&(null==e.Nombre?null:e.Nombre.hasError("required"))),t.xp6(3),t.Udp("font-size",16,"px"),t.xp6(5),t.Udp("font-size",16,"px"),t.xp6(3),t.Q6J("ngForOf",e.projects),t.xp6(1),t.Q6J("ngIf",(null==e.ProyectoId?null:e.ProyectoId.touched)&&(null==e.ProyectoId?null:e.ProyectoId.hasError("required"))),t.xp6(2),t.Q6J("ngxPermissionsOnly",t.DdM(11,Pt)))},dependencies:[d.sg,d.O5,p.KE,p.hX,p.TO,P.Nt,_.lW,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.sg,i.u,U.gD,E.ey,h.gE],styles:[".full-width-input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{width:100%;max-width:98%;margin:0 auto;display:flex}.example-section[_ngcontent-%COMP%]{margin:12px}.example-margin[_ngcontent-%COMP%]{margin:0 12px}ul[_ngcontent-%COMP%]{list-style-type:none;margin-top:4px}"]});const Ut=[{path:"",component:b},{path:"create",component:T}];class g{}g.\u0275fac=function(o){return new(o||g)},g.\u0275mod=t.oAB({type:g}),g.\u0275inj=t.cJS({imports:[x.Bz.forChild(Ut),x.Bz]});var Nt=a(4657);class Z{}Z.\u0275fac=function(o){return new(o||Z)},Z.\u0275mod=t.oAB({type:Z}),Z.\u0275inj=t.cJS({imports:[d.ez,g,Nt.M,F.Ps,A.AV,i.UX,U.LD,h.VI.forChild()]})}}]);